<h1>Dashboard</h1>

<h2 class="panel-title"><i class="fa fa-cogs"></i> Apps</h2>
<table class="table table-hover">
  <thead>
  <tr>
    <th>#</th>
    <th>Name</th>
    <th>State</th>
    <th>Stability</th>
    <th></th>
    <th>Signal frequency</th>
    <th>Last signal</th>
  </tr>
  </thead>
  <tbody>
  <% @apps.each do |app| %>
      <% stability_level = app_stability_level(app.stats.stability_score)%>
      <tr class="bg-<%= stability_level %>">
        <td><%= app.id %></td>
        <td><%= link_to app.name, app_path(app) %></td>
        <td><%= signal_type app.current_signal %></td>
        <td><%= app_stability_score app.stats %></td>
        <td><% if app.require_alert? %>
              <i class="fa fa-bell" title="alert sent"></i>
          <% end %></td>
        <td><%= distance_of_time_in_words app.signal_frequency %></td>
        <td><%= time_ago_in_words app.current_signal_created_at %> </td>
      </tr>
  <% end %>
  </tbody>
</table>

<%= render partial: 'gingerr/signals/table', locals: { signals: @signals, title: 'Signals' } %>